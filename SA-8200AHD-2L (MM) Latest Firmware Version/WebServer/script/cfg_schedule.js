function OnLoadCfgRecSchedule(){try{g_divcolor_schedule[0].CurSchedulePage=true;g_CurSchePage_index=0;g_bEraseMode=false;g_curSchType="rec_sch_week";g_curIndexList=g_TotalChannelList;GenSchedulePage();var d=CreateConfigReqXml(schedule_rec_array);var b=WebClient.ExcuteCmd(d);if(b==""){StopWait();return}if(g_xmlDoc!=null){delete g_xmlDoc;g_xmlDoc=null}g_xmlDoc=FormatToXmlDOM(b);g_xmlDoc.async=false;var f=g_xmlDoc.documentElement.getElementsByTagName("command")[0].getElementsByTagName("parameter");for(var c=0;c<g_ch_num;c++){g_sch_holiday[c]=new Array()}UpdateSchedule(f,true,g_curSchChannel,g_curSchType);ApplyXmlLang("cfg_schedule.xml")}catch(g){}Align()}function OnLoadCfgRecMotionSchedule(){g_divcolor_schedule[1].CurSchedulePage=true;g_CurSchePage_index=1;g_bEraseMode=false;g_curSchType="rec_sch_motion_week";g_curIndexList=g_TotalChannelList;GenSchedulePage();var d=CreateConfigReqXml(sch_motion_rec_array);var b=WebClient.ExcuteCmd(d);if(b==""){return}if(g_xmlDoc!=null){delete g_xmlDoc;g_xmlDoc=null}g_xmlDoc=FormatToXmlDOM(b);g_xmlDoc.async=false;var e=g_xmlDoc.documentElement.getElementsByTagName("command")[0].getElementsByTagName("parameter");for(var c=0;c<g_ch_num;c++){g_sch_holiday[c]=new Array()}UpdateSchedule(e,true,g_curSchChannel,g_curSchType);ApplyXmlLang("cfg_schedule.xml");Align()}function OnLoadCfgRecSensorSchedule(){g_divcolor_schedule[2].CurSchedulePage=true;g_CurSchePage_index=2;g_bEraseMode=false;g_curSchType="rec_sch_sensor_week";g_curIndexList=g_TotalChannelList;GenSchedulePage();var d=CreateConfigReqXml(sch_sensor_rec_array);var b=WebClient.ExcuteCmd(d);if(b==""){return}if(g_xmlDoc!=null){delete g_xmlDoc;g_xmlDoc=null}g_xmlDoc=FormatToXmlDOM(b);g_xmlDoc.async=false;var e=g_xmlDoc.documentElement.getElementsByTagName("command")[0].getElementsByTagName("parameter");for(var c=0;c<g_ch_num;c++){g_sch_holiday[c]=new Array()}UpdateSchedule(e,true,g_curSchChannel,g_curSchType);ApplyXmlLang("cfg_schedule.xml");Align()}function OnLoadCfgMotionSchedule(){g_divcolor_schedule[3].CurSchedulePage=true;g_CurSchePage_index=3;g_bEraseMode=false;g_curSchType=STR_MOTION_WEEK_SCH;g_curIndexList=g_TotalChannelList;GenSchedulePage();var d=CreateConfigReqXml(sch_motion_alarm_array);var b=WebClient.ExcuteCmd(d);if(b==""){return}if(g_xmlDoc!=null){delete g_xmlDoc;g_xmlDoc=null}g_xmlDoc=FormatToXmlDOM(b);g_xmlDoc.async=false;var e=g_xmlDoc.documentElement.getElementsByTagName("command")[0].getElementsByTagName("parameter");for(var c=0;c<g_ch_num;c++){g_sch_holiday[c]=new Array()}UpdateSchedule(e,true,g_curSchChannel,g_curSchType);ApplyXmlLang("cfg_schedule.xml");Align()}function OnLoadCfgSensorSchedule(){g_divcolor_schedule[4].CurSchedulePage=true;g_CurSchePage_index=4;g_bEraseMode=false;g_curSchType=STR_SENSOR_IN_WEEK_SCH;var f=new Array();for(i=0;i<g_sensorList.length;i++){f[i]=g_sensorList[i]}for(i=g_sensorList.length;i<g_net_ch_num+g_sensorList.length;i++){f[i]=new CSelectOptionInfo(sensor_string+(i+1),i)}g_curIndexList=f;GenSchedulePage();var d=CreateConfigReqXml(sch_sensor_alarm_array);var b=WebClient.ExcuteCmd(d);if(b==""){return false}if(g_xmlDoc!=null){delete g_xmlDoc;g_xmlDoc=null}g_xmlDoc=FormatToXmlDOM(b);g_xmlDoc.async=false;var e=g_xmlDoc.documentElement.getElementsByTagName("command")[0].getElementsByTagName("parameter");for(var c=0;c<g_ch_num;c++){g_sch_holiday[c]=new Array()}UpdateSchedule(e,true,g_curSchChannel,g_curSchType);ApplyXmlLang("cfg_schedule.xml");Align()}function OnLoadCfgNetAlarmSchedule(){g_divcolor_schedule[5].CurSchedulePage=true;g_CurSchePage_index=5;g_bEraseMode=false;g_curSchType=STR_NET_ALARM_WEEK_SCH;g_curIndexList=g_channelList;GenSchedulePage();var d=CreateConfigReqXml(sch_net_alarm_array);var b=WebClient.ExcuteCmd(d);if(b==""){return}if(g_xmlDoc!=null){delete g_xmlDoc;g_xmlDoc=null}g_xmlDoc=FormatToXmlDOM(b);g_xmlDoc.async=false;var e=g_xmlDoc.documentElement.getElementsByTagName("command")[0].getElementsByTagName("parameter");for(var c=0;c<g_ch_num;c++){g_sch_holiday[c]=new Array()}UpdateSchedule(e,true,g_curSchChannel,g_curSchType);ApplyXmlLang("cfg_schedule.xml");Align()}function OnLoadCfgAlarmoutSchedule(){g_divcolor_schedule[6].CurSchedulePage=true;g_CurSchePage_index=6;g_bEraseMode=false;g_curSchType=STR_ALARMOUT_WEEK_SCH;g_curIndexList=g_alarmoutList;GenSchedulePage();var c=CreateConfigReqXml(sch_alarmout_array);var a=WebClient.ExcuteCmd(c);if(a==""){return false}if(g_xmlDoc!=null){delete g_xmlDoc;g_xmlDoc=null}g_xmlDoc=FormatToXmlDOM(a);g_xmlDoc.async=false;var d=g_xmlDoc.documentElement.getElementsByTagName("command")[0].getElementsByTagName("parameter");for(var b=0;b<g_ch_num;b++){g_sch_holiday[b]=new Array()}UpdateSchedule(d,true,g_curSchChannel,g_curSchType);ApplyXmlLang("cfg_schedule.xml");Align()}function LoadDefaultCfgSchedule(){var c=new Array(0);if(g_curSchType==STR_REC_SCH_WEEK){c=schedule_rec_array}else{if(g_curSchType==STR_REC_SCH_MOTION_WEEK){c=sch_motion_rec_array}else{if(g_curSchType==STR_REC_SCH_SENSOR_WEEK){c=sch_sensor_rec_array}else{if(g_curSchType==STR_MOTION_WEEK_SCH){c=sch_motion_alarm_array}else{if(g_curSchType==STR_SENSOR_IN_WEEK_SCH){c=sch_sensor_alarm_array}else{if(g_curSchType==STR_NET_ALARM_WEEK_SCH){c=sch_net_alarm_array}else{if(g_curSchType==STR_ALARMOUT_WEEK_SCH){c=sch_alarmout_array}}}}}}}if(GetDefaultCfg(c)){var b=g_xmlDoc.documentElement.getElementsByTagName("command")[0].getElementsByTagName("parameter");for(var a=0;a<g_ch_num;a++){g_sch_holiday[a]=new Array()}UpdateSchedule(b,true,g_curSchChannel,g_curSchType);g_bChange=true;Align()}}function UpdateSchedule(d,f,c,e){for(k=0;k<d.length;k++){htmlName=d[k].attributes.getNamedItem("name").nodeValue;if(htmlName==e){if(d[k].attributes.getNamedItem("index").nodeValue==g_curSchChannel){var b=d[k].childNodes[0].nodeValue.toString().split("*");if(f){for(var a=0;a<7;a++){SetScheduleData("schedule_div"+a,b[a],a)}}else{for(var a=0;a<7;a++){b[a]=GetScheduleData(a)}d[k].childNodes[0].nodeValue=b.join("*")}break}}}}function FlushHolidayData(a,b){}function UpdateHoliday(a,c,b){}function SchWeekCopy(b,c,a){for(k=0;k<b.length;k++){htmlName=b[k].attributes.getNamedItem("name").nodeValue;if(b[k].attributes.getNamedItem("index").nodeValue==c){if(htmlName==g_curSchType){curSchData=b[k].childNodes[0].nodeValue;break}}}for(k=0;k<b.length;k++){htmlName=b[k].attributes.getNamedItem("name").nodeValue;if(a!="All"){if(b[k].attributes.getNamedItem("index").nodeValue==a){if(htmlName==g_curSchType){b[k].childNodes[0].nodeValue=curSchData}}}else{if(b[k].attributes.getNamedItem("index").nodeValue==0){if(htmlName==g_curSchType){for(j=0;j<g_ch_num;j++){b[k+j].childNodes[0].nodeValue=curSchData}}}}}}function schCopy(a){UpdateSchedule(g_xmlDoc.documentElement.getElementsByTagName("command")[0].getElementsByTagName("parameter"),false,g_curSchChannel,g_curSchType);var b=a.value;SchWeekCopy(g_xmlDoc.documentElement.getElementsByTagName("command")[0].getElementsByTagName("parameter"),g_curSchChannel,b)};